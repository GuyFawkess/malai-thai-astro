---
import { useTranslations } from "../i18n/utils";
import LanguageSwitcher from "./LanguageSwitcher.astro";

const { currentLang } = Astro.props;
const t = useTranslations(currentLang);

// Create base URL for the current language
const baseUrl = currentLang === 'en' ? '/' : '/es/';
---
<header class="w-full max-h-22">
    <!-- Desktop Navigation -->
    <nav class="mx-auto hidden md:block bg-[var(--color-natural-green)]">
        <ul class="flex items-center justify-center space-x-8 py-0">
            <li class="btn btn-ghost text-[var(--color-text-primary)] hover:bg-[var(--color-terracotta)] border-none text-lg"><a href={`${baseUrl}#about`}>{t.nav.about}</a></li>
            <li class="btn btn-ghost text-[var(--color-text-primary)] hover:bg-[var(--color-terracotta)] border-none text-lg"><a href={`${baseUrl}#services`}>{t.nav.services}</a></li>
            <li  class="flex items-center justify-center hover:scale-110 transition ease-in-out duration-150">
                <a href="/">
                    <img data-astro-prefetch src="/logoNav.png" alt="Thai Massage Lanzarote Logo" class="h-24">
                </a>
            </li>
            <li class="btn btn-ghost text-[var(--color-text-primary)] hover:bg-[var(--color-terracotta)] border-none text-lg"><a href={currentLang === 'en' ? "/contact" : "/es/contacto"}>{t.nav.contact}</a></li>
            <li class="btn btn-ghost text-[var(--color-text-primary)] hover:bg-[var(--color-terracotta)] border-none text-lg"><a href={`${baseUrl}#location`}>{t.nav.location}</a></li>
            <li>
            </li>
            <LanguageSwitcher currentLang={currentLang} />
        </ul>
    </nav>

    <!-- Mobile Navigation with Dropdown -->
    <nav class="w-full mx-auto md:hidden bg-[var(--color-natural-green)]">
        <div class="dropdown flex justify-center">
            <div data-astro-prefetch tabindex="0" role="button" class="logo">
                <img src="/logoNav.png" alt="Thai Massage Lanzarote Logo" class="h-28 w-auto">
            </div>
            <ul tabindex="0" class="dropdown-content  menu bg-[var(--color-warm-wood)] rounded-box z-[100] w-52 p-2 shadow-md mt-22">
                <li><a href={`${baseUrl}#about`} class="py-3">{t.nav.about}</a></li>
                <li><a transition:name="services" href={`${baseUrl}#services`} class="py-3">{t.nav.services}</a></li>
                <li><a href={currentLang === 'en' ? "/contact" : "/es/contacto"} class="py-3">{t.nav.contact}</a></li>
                <li><a href={`${baseUrl}#location`} class="py-3">{t.nav.location}</a></li>
                <div class="navbar-end">
                    <LanguageSwitcher currentLang={currentLang} />
                </div>
            </ul>
        </div>
    </nav>
</header>

<style>
    /* *{
        border: 1px solid red;
    } */


    
    /* nav ul {
        margin: 0;
        line-height: 1;
    } */
    
    /* .nav-item a {
        color: var(--color-text-primary);
        text-decoration: none;
        padding: 0;
    }
    
    .nav-item a:hover {
        color: var(--color-terracotta);
    } */

    .menu li a {
        color: var(--color-text-primary);
        font-weight: 500;
        transition: color 0.3s ease;
    }
    
    .menu li a:hover {
        color: var(--color-terracotta);
    }
</style>
